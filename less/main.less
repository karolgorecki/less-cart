/* ===================================================
*
*	Popup cart module using less
*	@author <karol.gorecki@o2.pl>
*	@last-mod 2012-11-09
*
===================================================== */

/*  Some general styling not important
================================================== */
@import 'mixins.less';
@import 'vars.less';

html, body {
	margin:0 auto;
	padding:0;
}

body {
	background-color: #c0c0c0;
}

.alpha {
	font:bold italic 24px 'Myriad Pro',arial;
	margin: 0;
	padding: 0;

	&.main-heading {
		color: #222;
		text-shadow:1px 1px 0 #fff;
		margin: 10px 0 10px 20px;
		border-bottom: 1px solid #fff;
	}
}

#cart-button {
	margin: 0 auto;
	width: 200px;
	height: 40px;
	line-height: 40px;
}

/*  Add custom namespace for the popup cart module
================================================== */


// my ref http://jsfiddle.net/cX33k/

#cart-button-popup {

	// start variables declaration
	@cart-button-bg: #a4d510;
	@inner-top-offset: 20px;
	@inner-width: 450px;
	@arrow-size: 12px;
	@arrow-right-offset: 70px;
	@main-box-border-color: #999;
	@main-box-border: 1px solid @main-box-border-color;
	@main-box-radius: 7px;
	@main-box-shadow: 0 7px 10px rgba(0,0,0,.35);
	@main-box-bg: #fff;
	@item-size: 32px;
	@button-bg: #a4d510;
	// end variables

	//start mixins

	// end mixin

	.init() {

		// styles for the button cart
		position:relative;
		height: 40px;
		background-color: @cart-button-bg;

		// end styling for button cart
		.inner {
			display: none;
			position: absolute;
			width: @inner-width;
			padding-top: @inner-top-offset;
			right: 0;

			.main-box {
				padding: 20px;
				border: @main-box-border;
				background-color: @main-box-bg;
				.border-radius(@main-box-radius @main-box-radius 0 0);
				.box-shadow(@main-box-shadow);

				&:before {
					top: @inner-top-offset - @arrow-size * 2 - 1;
					right: @arrow-right-offset - 1; // - @arrow-size center the offset
					position: absolute;
					display: block;
					content: '';
					border:@arrow-size + 1 solid transparent;
					border-bottom-color: @main-box-border-color;
				}

				&:after {
					top: @inner-top-offset - @arrow-size * 2 + 1;
					right: @arrow-right-offset; // - @arrow-size center the offset
					position: absolute;
					display: block;
					content: '';
					border:@arrow-size solid transparent;
					border-bottom-color: @main-box-bg;
				}

				.item {
					padding: 10px 10px;
					overflow: hidden;
					&:hover {
						background-color: #eee;
					}
					img {
						float: left;
						max-width: @item-size;
						max-height: @item-size;
						min-width: @item-size;
						min-height: @item-size;
					}

					border-bottom:1px solid lighten(@main-box-border-color,30%);
					.item-name {
						height: @item-size;
						line-height: @item-size - 2;
						float: left;
						margin-left: 10px;

						a {
							font: bold 12px sans-serif;
							text-decoration: none;
							color: #555;

							&:hover {
								color: #222;
							}
						}
					}

					&:last-child {
						border-bottom: none;

					}
				}
			}

			.buttons {
				//background-color: @button-bg;
				overflow: hidden;
				margin: -1 * @inner-top-offset;
				margin-top: 0;
				width: @inner-width - 2;
				margin: 0 auto;
				border: @main-box-border;
				border-top: none;
				.border-radius(0 0 @main-box-radius @main-box-radius);
				.box-shadow(@main-box-shadow);
				text-align: right;

				.checkout-link {
					text-align: center;
					background-color: #a4d510;
					height: 50px;
					float: right;
					text-decoration: none;
					font: bold 16px arial;
					line-height: 50px;
					width: @inner-width/2 - 21;
					padding: 0 10px;
					//color: darken(@button-bg, 35%);
					//text-shadow:1px 1px 0 lighten(@button-bg, 35%);
					#gradient > .vertical(#526a08,#a4d510);
					#gradient > .vertical(#a4d510,#526a08);
					color: #fff;
					text-shadow: 0 1px 0 rgba(0,0,0,.3);
				}

				.cart-link {
					color: #fff;
					text-align: center;
					#gradient > .vertical(#333333,#666666);
					background-color: #666;
					height: 50px;
					float: left;
					text-decoration: none;
					font: bold 16px arial;
					line-height: 50px;
					width: @inner-width/2 - 21;
					padding: 0 10px;
					text-shadow: 0 1px 0 rgba(0,0,0,.3);
				
				}

			}
		}

		// start hover action
		&:hover {
			// action for cart button goes here
		}

		&:hover .inner {
			display: block;
		}
	}

}

/*  Append class to the sample button - Example of use
================================================== */

.cart-module {
	#cart-button-popup > .init;
}
